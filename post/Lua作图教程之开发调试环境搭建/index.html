<!DOCTYPE html>
<html>
<head>
    <meta name="generator" content="Hugo 0.41" />

    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="My thoughts and rambles">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    
    <link rel="icon" type="image/png" href="/images/favicon.ico">

    
    <meta name="mobile-web-app-capable" content="yes">
    <link rel="icon" sizes="192x192" href="images/touch/chrome-touch-icon-192x192.png">

    
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-title" content="Material Design Lite">
    <link rel="apple-touch-icon-precomposed" href="apple-touch-icon-precomposed.png">

    
    <meta name="msapplication-TileImage" content="images/touch/ms-touch-icon-144x144-precomposed.png">
    <meta name="msapplication-TileColor" content="#3372DF">

    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:regular,bold,italic,thin,light,bolditalic,black,medium&amp;lang=en"/>
    <link rel="stylesheet" href="/css/ionicons.min.css"/>
    <link rel="stylesheet" href="https://storage.googleapis.com/code.getmdl.io/1.1.3/material.grey-orange.min.css"/>
    <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    <link rel="stylesheet" href="/css/hmdl-style.css"/>



    <title>Lua作图教程之开发调试环境搭建</title>
</head>

<body style="background-image: url('/images/bg/timg%20%283%29.jpg');">
    <div class="hmdl-body mdl-layout mdl-js-layout has-drawer is-upgraded">        
        <header class="mdl-layout__header mdl-layout__header--transparent mdl-layout__header--scroll">
            <div class="mdl-layout__header-row">
                <div class="mdl-layout-spacer"></div>
                <nav class="mdl-navigation">
                <a class="mdl-navigation__link" href="/">主页</a>
                <a class="mdl-navigation__link" href="/post/">文章</a>
                <a class="mdl-navigation__link" href="/project/">项目</a>
                <a class="mdl-navigation__link" href="/about/">关于我</a>
                </nav>
            </div>
        </header>
        <div class="mdl-layout__drawer">
            <nav class="mdl-navigation">
            <a class="mdl-navigation__link" href="/">主页</a>
            <a class="mdl-navigation__link" href="/post/">文章</a>
            <a class="mdl-navigation__link" href="/project/">项目</a>
            <a class="mdl-navigation__link" href="/about/">关于我</a>
            </nav>
        </div>

        <main class="mdl-layout__content">

            <div class="hmdl-page mdl-grid">
                <div class="mdl-card mdl-shadow--4dp mdl-cell mdl-cell--12-col">
                    <div class="hmdl-page-banner mdl-card__media mdl-color-text--grey-50" style="background-image: url('/images/default.jpg'); background-color:#263238;">
                        <h3 >Lua作图教程之开发调试环境搭建</h3>
                    </div>
                    <div class="hmdl-page-meta mdl-color-text--grey-700 mdl-card__supporting-text">
                        <div class="minilogo" style="background-image: url('/images/viosey_logo-blue.png');"></div>
                        <div>
                            <strong>Xu Chao</strong>
                            <span>May 3, 2018</span>
                        </div>
                        <div class="section-spacer"></div>
                    </div>
                    <div class="hmdl-page-content mdl-color-text--grey-700 mdl-card__supporting-text">
                        <p>5.1 以后就没有很好的lua IDE可用了，luastudio不错但是小贵，发现有位仁兄写了个 visual studio code的lua调试插件，试了一下还不错 <a href="https://github.com/actboy168/vscode-lua-debug">插件源码</a>.</p>

<p></p>

<h4 id="环境搭建">环境搭建</h4>

<ul>
<li><p>去微软官方下载vscode <a href="https://code.visualstudio.com/">软件下载地址</a>.</p></li>

<li><p>安装Lua 5.3 Debug 插件，在vscode中按Ctrl+P，输入 ext install lua-debug</p></li>
</ul>

<p><img src="https://img-blog.csdn.net/20161104010436388" alt="" /></p>

<ul>
<li>vscode的调试需要在一个文件夹中，随便建一个文件夹比如叫luaproject 里面建一个lua文件叫run.lua</li>

<li><p>配置调试工具</p>

<p>打开lua的调试配置</p></li>
</ul>

<p><img src="https://img-blog.csdn.net/20161104010854688" alt="" /></p>

<p><img src="https://img-blog.csdn.net/20161104010908407" alt="" /></p>

<p>直接调试lua文件修改lanuce里面的program项</p>

<pre><code class="language-json">    {
    &quot;version&quot;: &quot;0.2.0&quot;,
    &quot;configurations&quot;: [
        {
            &quot;name&quot;: &quot;launch&quot;,
            &quot;type&quot;: &quot;lua&quot;,
            &quot;request&quot;: &quot;launch&quot;,
            &quot;stopOnEntry&quot;: true,
            &quot;program&quot;: &quot;${workspaceRoot}/run.lua&quot;,
            &quot;cwd&quot;: &quot;${workspaceRoot}&quot;,
            &quot;path&quot;: &quot;${workspaceRoot}/?.lua&quot;,
            &quot;cpath&quot;: &quot;${workspaceRoot}/?.dll&quot;,
            &quot;arg&quot;: [],
            &quot;console&quot;: &quot;ansi&quot;
        },
        {
            &quot;name&quot;: &quot;attach&quot;,
            &quot;type&quot;: &quot;lua&quot;,
            &quot;request&quot;: &quot;attach&quot;,
            &quot;stopOnEntry&quot;: true,
            &quot;ip&quot;: &quot;localhost&quot;,
            &quot;port&quot;: 4278,
            &quot;sourceMaps&quot;: [
                [
                    &quot;./&quot;,
                    &quot;${workspaceRoot}&quot;
                ]
            ]
        }
    ]
}
</code></pre>

<p><img src="https://img-blog.csdn.net/20161104011657300" alt="" /></p>

<ul>
<li>开始调试</li>
</ul>

<p>如果”stopOnEntry”: true 则进入调试状态便断在开头 按F5直接运行到打断点的地方。可以方便的查看这个变量的值和运行状态</p>

<p><img src="https://img-blog.csdn.net/20161104011855937" alt="" /></p>

<h3 id="lua调试器详细说明">lua调试器详细说明</h3>

<h5 id="模块功能">模块功能</h5>

<p>vscode-debug-client.exe 代理客户端。在launch模式中，vscode-debug-client.exe会用vscode-debug.dll创建一个调试器进行调试。</p>

<p>在attach模式中，vscode-debug-client.exe会连接一个远程的调试器(也是由vscode-debug.dll创建的)，vscode-debug-client.exe只负责在vscode-debug.dll和vscode之间转发消息。</p>

<p>vscode-debug.dll 调试器的核心模块。你可以在你的程序中加载vscode-debug.dll并创建调试器，这样vscode就可以通过attach模式进行调试。</p>

<p>luacore.dll lua核心模块。如果你的程序定制了lua，你可以替换掉它。</p>

<h3 id="配置launch-json">配置launch.json</h3>

<h5 id="launch模式-等同于使用lua-exe来执行你的代码">launch模式，等同于使用lua.exe来执行你的代码。</h5>

<p>program，lua.exe执行的入口文件</p>

<p>cwd，lua.exe的当前目录</p>

<p>stopOnEntry，开始调试时是否先暂停</p>

<p>luadll，指定lua dll的路径，如有不填会加载luacore.dll</p>

<p>path，用于初始化package.path</p>

<p>cpath，用于初始化package.cpath</p>

<p>arg，lua.exe的命令行参数，用于初始化arg</p>

<p>console，lua的标准输出的编码，可选择utf8、ansi、none，当是none时不会重定向标准输出到vscode</p>

<p>sourceMaps，一般不需要，作用同attach模式</p>
                    </div>
                    <div class="hmdl-page-comments mdl-color-text--primary-contrast mdl-card__supporting-text comments"> 
                        <a href=http://goblinlaboratory.win/Blog/>Xu Chao</a>
                        <p>Writer of stuff</p>
                    </div>  
                </div>                
                <nav class="mdl-color-text--grey-50 mdl-cell mdl-cell--12-col">
                    <a href="/post/lua%E4%BD%9C%E5%9B%BE%E6%95%99%E7%A8%8B%E4%B9%8Blua%E5%9F%BA%E7%A1%80/">
                        <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                        <i class="icon ion-android-arrow-back"></i>
                        </button>
                        Older
                    </a>
                    <div class="section-spacer"></div>
                    <a href="/post/lua%E4%BD%9C%E5%9B%BE%E6%95%99%E7%A8%8B%E4%B9%8Blua%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1/">
                        Newer
                        <button class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-color--white mdl-color-text--grey-900" role="presentation">
                            <i class="icon ion-android-arrow-forward"></i>
                        </button>
                    </a>
                </nav>
 
            </div>        
        </main>
        <footer class="mdl-mini-footer">
            <div class="mdl-mini-footer--left-section">                
                <a class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--icon mdl-mini-footer--social-btn social-btn" href="mailto:olossss@qq.com?subject=Hi">
                    <i class="material-icons_lg icon ion-email"></i>
                    <span class="visuallyhidden">Email</span>
                </a>

            </div>
            <div class="mdl-mini-footer--right-section">
                <span>© 2015 徐超</span>
            </div>
        </footer>
        <div class="mdl-layout__obfuscator"></div>
    </div>
    <script src="https://code.getmdl.io/1.1.3/material.min.js"></script>


</body>
</html>

